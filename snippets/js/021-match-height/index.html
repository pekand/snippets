<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>title</title>   
  </head>
  <body>
      <main>

        <div class="blocks">
            <div class="block">
                <div class="header" data-match="header">heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder heder </div>
                <div class="body" data-match="body">body body body body body body body </div>
                <div class="footer">footer</div>
            </div>
            <div class="block">
                <div class="header" data-match="header">heder heder </div>
                <div class="body" data-match="body">body body body body body body body body body body body body body body body body body body body body body </div>
                <div class="footer">footer</div>
            </div>
            <div class="block">
                <div class="header" data-match="header">heder</div>
                <div class="body" data-match="body">body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body body </div>
                <div class="footer">footer</div>
            </div>
        </div>

        <div class="blocks">
                <div class="block">
                    <div class="header" data-match="header2">heder</div>
                    <div class="body" data-match="body2">body body body body body body body </div>
                    <div class="footer">footer</div>
                </div>
                <div class="block">
                    <div class="header" data-match="header2">heder</div>
                    <div class="body" data-match="body2">body body body body body body body body body body body body body body body body body body body body body </div>
                    <div class="footer">footer</div>
                </div>
                <div class="block">
                    <div class="header" data-match="header2">heder</div>
                    <div class="body" data-match="body2">body body body body body body body body bodybody body body body body body body body body </div>
                    <div class="footer">footer</div>
                </div>
            </div>

      </main>
      <style type="text/css">
          div {
              border: 1px solid black;
              margin: 3px;
              padding: 3px;
          }

          .blocks{
              display:flex;
          }

          .block{
              flex-direction: column;
              width: 33%;
          }

      </style>
      <script>

          function matchHeight(){
            var elements = document.querySelectorAll('[data-match]');
            
            var items = {};

            for (var i = 0; i < elements.length; i++) {
                var name = elements[i].dataset.match;
                if(typeof items[name] === "undefined") {
                    items[name] = [];
                }
                items[name].push(elements[i]);
            }

            for (var key in items) {
                var height = 0;
                for (var i = 0; i < items[key].length; i++) {
                    items[key][i].style.minHeight = '0px';
                }

                for (var i = 0; i < items[key].length; i++) {
                    if(height < items[key][i].clientHeight){
                        height = items[key][i].clientHeight;
                    }
                }

                for (var i = 0; i < items[key].length; i++) {
                    items[key][i].style.minHeight = height +'px';
                }

            }
            
          }

          window.addEventListener('load', matchHeight);
          window.addEventListener('resize', matchHeight);
      </script>
  </body>
</html>